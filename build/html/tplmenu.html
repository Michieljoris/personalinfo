<div ng-hide="viewMode">
  <div>
    <button ng-click="addChild(document.data)">+ New</button>
  </div>
  <div class="live">
    <ol ui-nested-sortable="{
			    listType: 'ol',
			    items: 'li',
			    doNotClear: true,
			    placeholder: 'ui-state-highlight',
			    forcePlaceholderSize: true,
			    toleranceElement: '> div',
			    tolerance:'pointer',
			    opacity:0.5
			    }" 
	ui-nested-sortable-stop="update($event, $ui)">
      <li ya-tree="child in document.data.children at ol" ng-class="{minimized:child.minimized}">
	<div>
          <button class="toggle" ng-click="toggleMinimized(child)" ng-switch on="child.minimized"><span ng-switch-when="true">&#x25B6;</span><span ng-switch-default>&#x25BC;</span></button>
          <input ng-model="child.title" />
          <button ng-click="addChild(child)">+</button>
          <button ng-click="remove(child)">x</button>
	</div>
	<ol ng-class="{pregnant:child.children.length}"></ol>
      </li>
    </ol>
  </div>
</div>

<div ng-show="viewMode">
  {{document.data|json}}
 </div> 
